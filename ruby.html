<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<meta name="author" content="Marek Hulán, Marek Jelen, Ivan Nečas">
<title>Programming Ruby</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<style>
.listingblock .pygments .hll { background-color: #49483e }
.listingblock .pygments, .listingblock .pygments code { background: #272822; color: #f8f8f2 }
.listingblock .pygments .tok-c { color: #75715e } /* Comment */
.listingblock .pygments .tok-err { color: #960050; background-color: #1e0010 } /* Error */
.listingblock .pygments .tok-k { color: #66d9ef } /* Keyword */
.listingblock .pygments .tok-l { color: #ae81ff } /* Literal */
.listingblock .pygments .tok-n { color: #f8f8f2 } /* Name */
.listingblock .pygments .tok-o { color: #f92672 } /* Operator */
.listingblock .pygments .tok-p { color: #f8f8f2 } /* Punctuation */
.listingblock .pygments .tok-cm { color: #75715e } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #75715e } /* Comment.Preproc */
.listingblock .pygments .tok-c1 { color: #75715e } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #75715e } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #f92672 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gi { color: #a6e22e } /* Generic.Inserted */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #75715e } /* Generic.Subheading */
.listingblock .pygments .tok-kc { color: #66d9ef } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #66d9ef } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #f92672 } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #66d9ef } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #66d9ef } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #66d9ef } /* Keyword.Type */
.listingblock .pygments .tok-ld { color: #e6db74 } /* Literal.Date */
.listingblock .pygments .tok-m { color: #ae81ff } /* Literal.Number */
.listingblock .pygments .tok-s { color: #e6db74 } /* Literal.String */
.listingblock .pygments .tok-na { color: #a6e22e } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #f8f8f2 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #a6e22e } /* Name.Class */
.listingblock .pygments .tok-no { color: #66d9ef } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #a6e22e } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #f8f8f2 } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #a6e22e } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #a6e22e } /* Name.Function */
.listingblock .pygments .tok-nl { color: #f8f8f2 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #f8f8f2 } /* Name.Namespace */
.listingblock .pygments .tok-nx { color: #a6e22e } /* Name.Other */
.listingblock .pygments .tok-py { color: #f8f8f2 } /* Name.Property */
.listingblock .pygments .tok-nt { color: #f92672 } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #f8f8f2 } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #f92672 } /* Operator.Word */
.listingblock .pygments .tok-w { color: #f8f8f2 } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #ae81ff } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #ae81ff } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #ae81ff } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #ae81ff } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #ae81ff } /* Literal.Number.Oct */
.listingblock .pygments .tok-sb { color: #e6db74 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #e6db74 } /* Literal.String.Char */
.listingblock .pygments .tok-sd { color: #e6db74 } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #e6db74 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #ae81ff } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #e6db74 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #e6db74 } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #e6db74 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #e6db74 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #e6db74 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #e6db74 } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #f8f8f2 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-vc { color: #f8f8f2 } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #f8f8f2 } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #f8f8f2 } /* Name.Variable.Instance */
.listingblock .pygments .tok-il { color: #ae81ff } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="book">
<div id="header">
<h1>Programming Ruby</h1>
<div class="details">
<span id="author" class="author">Marek Hulán</span><br>
<span id="author2" class="author">Marek Jelen</span><br>
<span id="author3" class="author">Ivan Nečas</span><br>
<span id="revnumber">version 0.1,</span>
<span id="revdate">October 14, 2016</span>
<br><span id="revremark">First incarnation</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_instalation">1. Instalation</a>
<ul class="sectlevel2">
<li><a href="#_linux">1.1. Linux</a></li>
<li><a href="#_windows">1.2. Windows</a></li>
<li><a href="#_macos">1.3. macOS</a></li>
</ul>
</li>
<li><a href="#_running_ruby">2. Running Ruby</a>
<ul class="sectlevel2">
<li><a href="#_interactive_ruby">2.1. Interactive Ruby</a></li>
</ul>
</li>
<li><a href="#_about_ruby">3. About Ruby</a>
<ul class="sectlevel2">
<li><a href="#_interpreted">3.1. Interpreted</a></li>
<li><a href="#_universal">3.2. Universal</a></li>
<li><a href="#_fully_object_oriented">3.3. Fully Object oriented</a></li>
<li><a href="#_everything_is_an_expression">3.4. Everything is an expression</a></li>
<li><a href="#_atomic_memory_management">3.5. Atomic memory management</a></li>
<li><a href="#_mri">3.6. MRI</a></li>
<li><a href="#_strongly_typed">3.7. Strongly typed</a></li>
<li><a href="#_dynamically_typed">3.8. Dynamically typed</a></li>
<li><a href="#_what_is_written_in_ruby">3.9. What is written in Ruby?</a></li>
</ul>
</li>
<li><a href="#_conventions">4. Conventions</a></li>
<li><a href="#_basic_syntax">5. Basic syntax</a>
<ul class="sectlevel2">
<li><a href="#_operator_priority">5.1. Operator priority</a></li>
<li><a href="#_special_characters_in_method_names">5.2. Special characters in method names</a></li>
<li><a href="#_comments">5.3. Comments</a></li>
</ul>
</li>
<li><a href="#_data_types">6. Data types</a>
<ul class="sectlevel2">
<li><a href="#_strings">6.1. Strings</a></li>
<li><a href="#_numbers">6.2. Numbers</a></li>
<li><a href="#_empty_value">6.3. Empty value</a></li>
<li><a href="#_booleans">6.4. Booleans</a></li>
<li><a href="#_arrays">6.5. Arrays</a></li>
<li><a href="#_hashes">6.6. Hashes</a></li>
<li><a href="#_symbols">6.7. Symbols</a></li>
</ul>
</li>
<li><a href="#_objects_and_methods">7. Objects and methods</a></li>
<li><a href="#_variables">8. Variables</a></li>
<li><a href="#_conditions">9. Conditions</a></li>
<li><a href="#_logical_operators">10. Logical operators</a></li>
<li><a href="#_regular_expressions">11. Regular expressions</a></li>
<li><a href="#_loops">12. Loops</a></li>
<li><a href="#_methods">13. Methods</a></li>
<li><a href="#_reusing_code_from_other_files">14. Reusing code from other files</a></li>
<li><a href="#_blocks">15. Blocks</a></li>
<li><a href="#_objects">16. Objects</a></li>
<li><a href="#_inheritance">17. Inheritance</a></li>
<li><a href="#_class_methods_and_attributes">18. Class methods and attributes</a></li>
<li><a href="#_monkey_patching">19. Monkey patching</a></li>
<li><a href="#_modules">20. Modules</a></li>
<li><a href="#_method_access">21. Method access</a></li>
<li><a href="#_duck_typing">22. Duck typing</a></li>
<li><a href="#_method_missing">23. Method_missing</a></li>
<li><a href="#_metaprogramming">24. Metaprogramming</a></li>
<li><a href="#_exceptions">25. Exceptions</a></li>
<li><a href="#_advanced_ruby_meta_programming">Advanced Ruby &amp; meta-programming</a>
<ul class="sectlevel1">
<li><a href="#_return_statements">26. Return statements</a></li>
<li><a href="#_context">27. Context</a></li>
<li><a href="#_class">28. Class</a>
<ul class="sectlevel2">
<li><a href="#_open_classes">28.1. Open classes</a></li>
<li><a href="#_what_is_a_class">28.2. What is a class?</a></li>
<li><a href="#_inheritance_2">28.3. Inheritance</a></li>
<li><a href="#_mixins">28.4. Mixins</a></li>
<li><a href="#_class_name">28.5. Class name</a></li>
</ul>
</li>
<li><a href="#_methods_2">29. Methods</a>
<ul class="sectlevel2">
<li><a href="#_inspecting_methods">29.1. Inspecting methods</a></li>
<li><a href="#_extracting_methods">29.2. Extracting methods</a></li>
<li><a href="#_checking_method_existence">29.3. Checking method existence</a></li>
<li><a href="#_dynamic_method_calling">29.4. Dynamic method calling</a></li>
<li><a href="#_defining_methods_programmatically">29.5. Defining methods programmatically</a></li>
</ul>
</li>
<li><a href="#_objects_2">30. Objects</a>
<ul class="sectlevel2">
<li><a href="#_creating_new_object">30.1. Creating new object</a></li>
<li><a href="#_defining_methods">30.2. Defining methods</a></li>
<li><a href="#_eigenclass">30.3. Eigenclass</a></li>
<li><a href="#_method_lookups">30.4. Method lookups</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_testing">Testing</a>
<ul class="sectlevel1">
<li><a href="#_minitest">31. MiniTest</a></li>
</ul>
</li>
<li><a href="#_standard_library">Standard library</a>
<ul class="sectlevel1">
<li><a href="#_files">32. Files</a></li>
</ul>
</li>
<li><a href="#_ruby_on_rails">Ruby on Rails</a>
<ul class="sectlevel1">
<li><a href="#_introduction">33. Introduction</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_instalation">1. Instalation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_linux">1.1. Linux</h3>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Do not use prepackaged Ruby on Linux distributions.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>On Linux use <a href="https://github.com/rbenv/rbenv"><code>rbenv</code></a> package manager with the
<a href="https://github.com/rbenv/ruby-build"><code>ruby-build</code></a> extension to install Ruby.</p>
</div>
</div>
<div class="sect2">
<h3 id="_windows">1.2. Windows</h3>
<div class="paragraph">
<p>For windows there is an installer <a href="https://rubyinstaller.org/downloads/">Ruby Installer</a>
simplifies the installation to the "windows standard approach".</p>
</div>
</div>
<div class="sect2">
<h3 id="_macos">1.3. macOS</h3>
<div class="paragraph">
<p>The simplest way to install Ruby on macOS is to use <code>homebrew</code> package manager</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><span class="tok-nv">$ </span>brew install ruby</code></pre>
</div>
</div>
<div class="paragraph">
<p>in case there is a need to have multiple installations
<a href="https://github.com/rbenv/rbenv"><code>rbenv</code></a>
is a good tool to use. Another popular tool is called <code>rvm</code> but nowadays they do too
much magic and we recommend using <code>rbenv</code> instead.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_running_ruby">2. Running Ruby</h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Usually you put <code>ruby</code> and relates command on PATH so you do not need to always
specify the whole path to the executable. With tools like <code>rbenv</code> this is done for you.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><span class="tok-nv">$ </span>ruby -v</code></pre>
</div>
</div>
<div class="paragraph">
<p>runs Ruby and prints it&#8217;s version. Simplest way to verify that your instalation
works as expected.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><span class="tok-nv">$ </span>ruby script.rb</code></pre>
</div>
</div>
<div class="paragraph">
<p>interprets the script.rb. However instead of running the script explicitly, you can
add the shebang line to your script</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><span class="tok-c">#!/usr/bin/env ruby</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>and make it executable (<code>chmox +x script.rb</code>) and run it simply as <code>./script.rb</code>.</p>
</div>
<div class="sect2">
<h3 id="_interactive_ruby">2.1. Interactive Ruby</h3>
<div class="paragraph">
<p>Ruby comes with an interactive interpreter called <code>irb</code> it allows you to enter commands
and see results instantly.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash"><span class="tok-nv">$ </span>irb</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_about_ruby">3. About Ruby</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ruby a programming language with following aspects</p>
</div>
<div class="sect2">
<h3 id="_interpreted">3.1. Interpreted</h3>
<div class="paragraph">
<p>The Ruby code is interpreted when the script is load, there is no compile phase.</p>
</div>
</div>
<div class="sect2">
<h3 id="_universal">3.2. Universal</h3>
<div class="paragraph">
<p>Ruby can be used for writing scripts, one-liners, web applications and even for mobile and desktop
applications.</p>
</div>
</div>
<div class="sect2">
<h3 id="_fully_object_oriented">3.3. Fully Object oriented</h3>
<div class="paragraph">
<p>In Ruby everything is an object and you send messages to those objects.</p>
</div>
</div>
<div class="sect2">
<h3 id="_everything_is_an_expression">3.4. Everything is an expression</h3>
<div class="paragraph">
<p>Everything command in Ruby has a return value.</p>
</div>
</div>
<div class="sect2">
<h3 id="_atomic_memory_management">3.5. Atomic memory management</h3>

</div>
<div class="sect2">
<h3 id="_mri">3.6. MRI</h3>
<div class="paragraph">
<p><code>MRI</code> is the Ruby reference implementation, with several other implementations like <code>JRuby</code>, <code>Rubinius</code>,
<code>IronRuby</code> or <code>MagLev</code>. As well, there is ISO standard implemented in <code>mruby</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_strongly_typed">3.7. Strongly typed</h3>
<div class="paragraph">
<p>There are some implicit conversions (e.g. every object has <code>to_s</code> method to provide
string representation) but in most cases in case you try to operate on different types
Ruby will complain, unless such operation is explicitly provided.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-mi">5</span> <span class="tok-o">+</span> <span class="tok-s2">&quot;a&quot;</span> <span class="tok-c1"># =&gt; TypeError: String can&#39;t be coerced into Fixnum</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dynamically_typed">3.8. Dynamically typed</h3>
<div class="paragraph">
<p>The type of a variable is defined by the value assigned to that variable. There is no explicit type
information in the code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;string&quot;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_what_is_written_in_ruby">3.9. What is written in Ruby?</h3>
<div class="ulist">
<ul>
<li>
<p>programming languages: Ruby (Rubinius), compilers (LessJS)</p>
</li>
<li>
<p>web applications: Github, Twitter</p>
</li>
<li>
<p>devops tools: Puppet/Chef/Vagrant</p>
</li>
<li>
<p>cloud platforms: OpenShift (v2)</p>
</li>
<li>
<p>cloud management: DeltaCloud</p>
</li>
<li>
<p>VIM/Emacs scripts</p>
</li>
<li>
<p>static pages generators - Jekyll</p>
</li>
<li>
<p>programming tools</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conventions">4. Conventions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>class names are CamelCase</p>
</li>
<li>
<p>file names reflect class names in snake_case format</p>
</li>
<li>
<p>method names are snake_case</p>
</li>
<li>
<p>constants are UPPER_CASE</p>
</li>
<li>
<p>indent by 2 spaces</p>
</li>
<li>
<p>methods returning boolean values end with <code>?</code></p>
</li>
<li>
<p>methods mutating state end with <code>!</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_basic_syntax">5. Basic syntax</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Basic and most explicit syntax looks like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-nb">puts</span><span class="tok-p">(</span><span class="tok-s2">&quot;hello world!&quot;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>However the parenthesis are optional in case the only one interpretation of the
expression</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-nb">puts</span> <span class="tok-s2">&quot;hello world!&quot;</span><span class="tok-p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>and semicolons are optional as well</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-nb">puts</span> <span class="tok-s2">&quot;hello world!&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>String use either quotation marks <code>"</code> or apostrophes <code>'</code>. Apostrophes does not provide
string substitution as quotations marks do.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;Hello&#39;</span>      <span class="tok-c1"># =&gt; &quot;Hello&quot;</span>
<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;</span><span class="tok-si">#{</span><span class="tok-n">a</span><span class="tok-si">}</span><span class="tok-s2"> world&quot;</span> <span class="tok-c1"># =&gt; &quot;Hello world&quot;</span>
<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;#{a} world&#39;</span> <span class="tok-c1"># =&gt; &quot;\#{a} world&quot;</span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_operator_priority">5.1. Operator priority</h3>

</div>
<div class="sect2">
<h3 id="_special_characters_in_method_names">5.2. Special characters in method names</h3>
<div class="paragraph">
<p>Ruby allows usage of special characted in method names. The standard is to use</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the question mark <code>?</code> for methods that return boolean value</p>
</li>
<li>
<p>the exclamation mark <code>!</code> for methods that mutate the object</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-mi">1</span><span class="tok-o">.</span><span class="tok-n">even?</span>                 <span class="tok-c1"># =&gt; false</span>
<span class="tok-s2">&quot;ruby&quot;</span><span class="tok-o">.</span><span class="tok-n">upcase</span><span class="tok-o">.</span><span class="tok-n">reverse</span>   <span class="tok-c1"># =&gt; &#39;YBUR&#39;</span>
<span class="tok-s2">&quot;ruby&quot;</span><span class="tok-o">.</span><span class="tok-n">size</span><span class="tok-o">.</span><span class="tok-n">even?</span>       <span class="tok-c1"># =&gt; true</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_comments">5.3. Comments</h3>
<div class="paragraph">
<p>In the code above the single line comment is used. It starts with hash <code>#</code> and follows
to the end of the line. In case of commenting multiple lines, it is customary to
comment every line with single line comment.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-c1"># you should</span>
<span class="tok-c1"># do this</span>
<span class="tok-c1"># to comment</span>
<span class="tok-c1"># multiple lines</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_types">6. Data types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As mentioned above in Ruby everything is an object, including arrays or numbers.
However there are special syntax shorthands to create instances of special classes.</p>
</div>
<div class="sect2">
<h3 id="_strings">6.1. Strings</h3>
<div class="paragraph">
<p>As mentioned above String are create by quoting the charachters</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;string&quot;</span>
<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;string&#39;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_numbers">6.2. Numbers</h3>
<div class="paragraph">
<p>Ruby has two basic number classes <code>Fixnum</code> and <code>Float</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>   <span class="tok-c1"># =&gt; 1</span>
<span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-n">class</span> <span class="tok-c1"># =&gt; Fixnum</span>

<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">.</span><span class="tok-mi">1</span> <span class="tok-c1"># =&gt; 1.1</span>
<span class="tok-n">b</span><span class="tok-o">.</span><span class="tok-n">class</span> <span class="tok-c1"># =&gt; Float</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_empty_value">6.3. Empty value</h3>
<div class="paragraph">
<p>Special value that represents "nothing" is <code>nil</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-kp">nil</span> <span class="tok-c1"># =&gt; nil</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In a boolean expression, <code>nil</code> is considered false, i.e. it&#8217;s only of two possible
values that are not considered true.</p>
</div>
</div>
<div class="sect2">
<h3 id="_booleans">6.4. Booleans</h3>
<div class="paragraph">
<p>As usual there is either <code>true</code> or <code>false</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-kp">true</span>   <span class="tok-c1"># =&gt; true</span>
<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-kp">false</span>  <span class="tok-c1"># =&gt; false</span>
<span class="tok-n">a</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">b</span>     <span class="tok-c1"># =&gt; false</span>
<span class="tok-n">a</span> <span class="tok-o">||</span> <span class="tok-n">b</span>     <span class="tok-c1"># =&gt; true</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_arrays">6.5. Arrays</h3>
<div class="paragraph">
<p>Arrays is an ordered sequence of values. There are no restrictions on what types can
be in a single array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-o">[</span><span class="tok-s2">&quot;a&quot;</span><span class="tok-p">,</span> <span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-kp">true</span><span class="tok-o">]</span> <span class="tok-c1"># =&gt; [&quot;a&quot;, 1, true]</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hashes">6.6. Hashes</h3>
<div class="paragraph">
<p>Hash is a structure that maps key to a value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-p">{</span><span class="tok-s2">&quot;a&quot;</span> <span class="tok-o">=&gt;</span> <span class="tok-kp">true</span><span class="tok-p">,</span> <span class="tok-s2">&quot;b&quot;</span><span class="tok-p">:</span> <span class="tok-kp">false</span><span class="tok-p">}</span> <span class="tok-c1"># =&gt; {&quot;a&quot;=&gt;true, :b=&gt;false}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>There are two approaches how to write the mapping, either <code>rocket</code> style</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">key</span> <span class="tok-o">=&gt;</span> <span class="tok-n">value</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>or <code>json</code> style</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-ss">key</span><span class="tok-p">:</span> <span class="tok-n">value</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use both syntaxes, however with the <code>json</code> style the value is converted
to <code>symbol</code>, so in case you need to use <code>String</code> or some other type, or get the name
of the key from a variable, you need to use the <code>rocket</code> style. Several well-known
coding guidelines recommend (and enforce) using <code>rockets</code> everywhere.</p>
</div>
</div>
<div class="sect2">
<h3 id="_symbols">6.7. Symbols</h3>
<div class="paragraph">
<p>Symbol is a keyword. It always maps to the same object instance</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;a&quot;</span> <span class="tok-c1"># =&gt; &quot;a&quot;</span>
<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;a&quot;</span> <span class="tok-c1"># =&gt; &quot;a&quot;</span>

<span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-n">object_id</span> <span class="tok-c1"># =&gt; 70224766839340</span>
<span class="tok-n">b</span><span class="tok-o">.</span><span class="tok-n">object_id</span> <span class="tok-c1"># =&gt; 70224750415480</span>

<span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-ss">:a</span> <span class="tok-c1"># =&gt; :a</span>
<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-ss">:a</span> <span class="tok-c1"># =&gt; :a</span>

<span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-n">object_id</span> <span class="tok-c1"># =&gt; 722268</span>
<span class="tok-n">b</span><span class="tok-o">.</span><span class="tok-n">object_id</span> <span class="tok-c1"># =&gt; 722268</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_objects_and_methods">7. Objects and methods</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Methods are called by using the <code>.</code>. Operators are actually methods.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-mi">3</span> <span class="tok-o">+</span> <span class="tok-mi">3</span>  <span class="tok-c1"># =&gt; 6</span>
<span class="tok-mi">3</span><span class="tok-o">.</span><span class="tok-n">+</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">)</span> <span class="tok-c1"># =&gt; 6</span>

<span class="tok-o">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-o">][</span><span class="tok-mi">0</span><span class="tok-o">]</span>    <span class="tok-c1">#=&gt; 1</span>
<span class="tok-o">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-o">].</span><span class="tok-n">[</span><span class="tok-o">]</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">)</span> <span class="tok-c1"># =&gt; 1</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_variables">8. Variables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ruby has global variables prefixed by <code>$</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-vg">$stdout</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Classes and object can use class variables, though there are no used very much.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-vc">@@class_variables</span> <span class="tok-o">=</span> <span class="tok-mi">1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Objects have instance variables.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-vi">@instance_variable</span> <span class="tok-o">=</span> <span class="tok-mi">1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Local variables have no prefix.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">local_variable</span> <span class="tok-o">=</span> <span class="tok-mi">1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And finally constants are all upper case.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-no">CONSTANT</span> <span class="tok-o">=</span> <span class="tok-mi">1</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conditions">9. Conditions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Everything is considered <code>true</code> except <code>false</code> and <code>nil</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-kp">nil</span>
<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;&quot;</span>

<span class="tok-k">if</span> <span class="tok-n">a</span>
  <span class="tok-s2">&quot;we do not get in here&quot;</span>
<span class="tok-k">elsif</span> <span class="tok-n">b</span>
  <span class="tok-s2">&quot;we got here&quot;</span>
<span class="tok-k">else</span>
  <span class="tok-s2">&quot;we did not get here&quot;</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ruby has negative variant to <code>if</code> called <code>unless</code>. Essentially <code>unless bool_expr</code> is
equivalent to <code>if !(bool_expr)</code>. It is used the same way as normal <code>if</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-kp">nil</span>
<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;&quot;</span>

<span class="tok-k">unless</span> <span class="tok-n">a</span>
  <span class="tok-s2">&quot;we do get in here&quot;</span>
<span class="tok-k">elsif</span> <span class="tok-n">b</span>
  <span class="tok-s2">&quot;we did not get here&quot;</span>
<span class="tok-k">else</span>
  <span class="tok-s2">&quot;we did not get here&quot;</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ruby has inline method of using conditionals called modifier statements.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-nb">puts</span> <span class="tok-s2">&quot;Hello&quot;</span> <span class="tok-k">if</span> <span class="tok-kp">true</span>
<span class="tok-nb">puts</span> <span class="tok-s2">&quot;Hello&quot;</span> <span class="tok-k">unless</span> <span class="tok-kp">false</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ternary operator is available as well.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">experssion</span> <span class="tok-p">?</span> <span class="tok-s1">&#39;was evaluated true&#39;</span> <span class="tok-p">:</span> <span class="tok-s1">&#39;was evaluated false&#39;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Another way to do conditions is to use <code>case</code> statement.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">case</span> <span class="tok-n">input</span>
  <span class="tok-k">when</span> <span class="tok-s1">&#39;q&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;e&#39;</span>
    <span class="tok-n">quit</span>
  <span class="tok-k">when</span> <span class="tok-s1">&#39;f&#39;</span>
    <span class="tok-nb">format</span>
  <span class="tok-k">else</span>
    <span class="tok-n">help</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Case</code> statement can as well check on variable class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">case</span> <span class="tok-n">var</span>
  <span class="tok-k">when</span> <span class="tok-nb">String</span>
    <span class="tok-s2">&quot;it&#39;s string&quot;</span>
  <span class="tok-k">when</span> <span class="tok-no">Class</span>
    <span class="tok-s2">&quot;it&#39;s class&quot;</span>
  <span class="tok-k">when</span> <span class="tok-no">Number</span>
    <span class="tok-s2">&quot;it&#39;s number&quot;</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Another way to use <code>case</code> statement is to use it as <code>if</code> and <code>elsif</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">case</span>
  <span class="tok-k">when</span> <span class="tok-n">a</span> <span class="tok-o">==</span> <span class="tok-s2">&quot;a&quot;</span>
    <span class="tok-s2">&quot;a equals a&quot;</span>
  <span class="tok-k">when</span> <span class="tok-n">b</span> <span class="tok-o">==</span> <span class="tok-s2">&quot;b&quot;</span>
    <span class="tok-s2">&quot;b equals b&quot;</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_logical_operators">10. Logical operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are basic logical expressions</p>
</div>
<div class="ulist">
<ul>
<li>
<p>and <code>&amp;&amp;</code></p>
</li>
<li>
<p>or <code>||</code></p>
</li>
<li>
<p>not <code>!</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>as well <code>&amp;&amp;</code> can be replaced with <code>and</code>, <code>||</code> can be replaced with <code>or</code> and <code>!</code> can
be replaced with <code>not</code>.</p>
</div>
<div class="paragraph">
<p>There are basic comparison operators</p>
</div>
<div class="ulist">
<ul>
<li>
<p>equal <code>==</code></p>
</li>
<li>
<p>not equal <code>!=</code></p>
</li>
<li>
<p>lesser then <code>&lt;</code></p>
</li>
<li>
<p>greater then <code>&gt;</code></p>
</li>
<li>
<p>lesser then or equal <code>&gt;=</code></p>
</li>
<li>
<p>greater then or equal <code>&#8656;</code></p>
</li>
<li>
<p>regular expersion match <code>=~</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_regular_expressions">11. Regular expressions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Regular expressions are enclosed with <code>/</code>. The simplest way is to use the regexp
operator.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">string</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;localhost:2000&#39;</span>
<span class="tok-n">string</span> <span class="tok-o">=~</span> <span class="tok-sr">/.*:.+/</span>     <span class="tok-c1"># 0</span>
<span class="tok-n">string</span> <span class="tok-o">=~</span> <span class="tok-sr">/(.)*:(.)+/</span> <span class="tok-c1"># sets $1 a $2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>as well there is a <code>match</code> method on string.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">data</span> <span class="tok-o">=</span> <span class="tok-n">string</span><span class="tok-o">.</span><span class="tok-n">match</span><span class="tok-p">(</span><span class="tok-sr">/^(.):(\d+)$/</span><span class="tok-p">)</span>
<span class="tok-n">data</span><span class="tok-o">[</span><span class="tok-mi">1</span><span class="tok-o">]</span> <span class="tok-c1"># =&gt; localhost</span>
<span class="tok-n">data</span><span class="tok-o">[</span><span class="tok-mi">2</span><span class="tok-o">]</span> <span class="tok-c1"># =&gt; 2000</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_loops">12. Loops</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>while</code> repeats as long as the condition is true.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">while</span> <span class="tok-n">a</span> <span class="tok-o">&lt;</span> <span class="tok-n">b</span>
  <span class="tok-n">a</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To go through the body of the loop at least once</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">begin</span>
  <span class="tok-n">a</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>
<span class="tok-k">end</span> <span class="tok-k">while</span> <span class="tok-n">a</span> <span class="tok-o">&lt;</span> <span class="tok-n">b</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>There is as well inline way to write the loop</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">a</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span> <span class="tok-k">while</span> <span class="tok-n">a</span> <span class="tok-o">&lt;</span> <span class="tok-n">b</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And finally the negative counterpart <code>until</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">until</span> <span class="tok-n">a</span> <span class="tok-o">&gt;</span> <span class="tok-n">b</span>
  <span class="tok-n">a</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_methods">13. Methods</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Methods in Ruby always return some value. If it is not explicitly returned using the
<code>return</code> keyword, the return value is the value of the last expression in the method.
Return as usual returns from method and ends the execution of the method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-c1"># Simple method with two arguments</span>
<span class="tok-k">def</span> <span class="tok-nf">mth</span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-p">,</span> <span class="tok-n">b</span><span class="tok-p">)</span>
<span class="tok-k">end</span>

<span class="tok-c1"># Method with default value for 2nd argument</span>
<span class="tok-k">def</span> <span class="tok-nf">mth</span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-p">,</span> <span class="tok-n">b</span><span class="tok-o">=</span><span class="tok-mi">1</span><span class="tok-p">)</span>
<span class="tok-k">end</span>

<span class="tok-c1"># Method accepting any number of arguments, available as Array args</span>
<span class="tok-k">def</span> <span class="tok-nf">mth</span><span class="tok-p">(</span><span class="tok-o">*</span><span class="tok-n">args</span><span class="tok-p">)</span>
<span class="tok-k">end</span>

<span class="tok-c1"># Method requiring at least two arguments</span>
<span class="tok-k">def</span> <span class="tok-nf">mth</span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-p">,</span> <span class="tok-n">b</span><span class="tok-p">,</span> <span class="tok-o">*</span><span class="tok-n">args</span><span class="tok-p">)</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reusing_code_from_other_files">14. Reusing code from other files</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>require</code> method loads code from another file. Ruby keeps track of required files
and skips loading files that would be loaded 2nd time. Files are looked up using Ruby&#8217;s
load path, which is represented using an array in <code>$LOAD_PATH</code> and <code>$:</code>. The <code>load</code> method does
not keep track of loaded files.</p>
</div>
<div class="paragraph">
<p>In case the required file ends with [rb, so, o, dll, bundle, jar] extension, the extension
may be omitted. There two commands are equivalent</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-nb">require</span> <span class="tok-s2">&quot;somefile&quot;</span>
<span class="tok-nb">require</span> <span class="tok-s2">&quot;somefile.rb&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To keep track of required files, Ruby keep list of all files that were required in the <code>$"</code>
variable.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_blocks">15. Blocks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Blocks have many uses-cases. One of the use cases is the replacement for <code>for</code> cycles
another use case is <code>anonnymous functions</code>. Block are not executed when defined, but
needs to be called using the <code>call</code> method (though the calling of <code>call</code> method is
most of the times hidden from the develop as in the example below).</p>
</div>
<div class="paragraph">
<p>Arrays have method called <code>each</code> that accepts block and calls the block for every
single element in the array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">arr</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-o">]</span>
<span class="tok-n">arr</span><span class="tok-o">.</span><span class="tok-n">each</span> <span class="tok-k">do</span> <span class="tok-o">|</span><span class="tok-n">el</span><span class="tok-o">|</span>
  <span class="tok-nb">puts</span> <span class="tok-n">el</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>will print all four values to the standard output. Block have another possibility</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">arr</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-o">]</span>
<span class="tok-n">arr</span><span class="tok-o">.</span><span class="tok-n">each</span> <span class="tok-p">{</span> <span class="tok-o">|</span><span class="tok-n">el</span><span class="tok-o">|</span> <span class="tok-nb">puts</span> <span class="tok-n">el</span> <span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>this variant is usually used for single-line blocks.</p>
</div>
<div class="paragraph">
<p>Block see their own scope plus can access scope in which were defined.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">sum</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-n">arr</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-o">]</span>
<span class="tok-n">arr</span><span class="tok-o">.</span><span class="tok-n">each</span> <span class="tok-p">{</span> <span class="tok-o">|</span><span class="tok-n">el</span><span class="tok-o">|</span> <span class="tok-n">sum</span> <span class="tok-o">+=</span> <span class="tok-n">el</span> <span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Any method can accept a block and call it</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">def</span> <span class="tok-nf">mth</span>
  <span class="tok-k">return</span> <span class="tok-kp">nil</span> <span class="tok-k">unless</span> <span class="tok-nb">block_given?</span>
  <span class="tok-k">yield</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This method will return nil if no block was given or will call the block without any
argument and the return value of the block will be return from the method.</p>
</div>
<div class="paragraph">
<p>Method may also accept blocks as a named argument which is prefixed by <code>&amp;</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">def</span> <span class="tok-nf">mth</span><span class="tok-p">(</span><span class="tok-n">num</span><span class="tok-p">,</span><span class="tok-o">&amp;</span><span class="tok-n">block</span><span class="tok-p">)</span>
  <span class="tok-n">block</span><span class="tok-o">.</span><span class="tok-n">call</span><span class="tok-p">(</span><span class="tok-n">num</span><span class="tok-p">)</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>this method will call block saved in the variable <code>block</code> and will pass one argument
which is the argument passed to the method itself.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_objects">16. Objects</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Ruby everything is an object. Object is an instance of some class. Even every class
is an instance of class that inherits from Class. Object can have methods</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">Hello</span>
  <span class="tok-k">def</span> <span class="tok-nf">say</span>
    <span class="tok-s2">&quot;Hello, world!&quot;</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-nb">puts</span> <span class="tok-no">Hello</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">say</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>and instance variables</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">Hello</span>
  <span class="tok-k">def</span> <span class="tok-nf">initialize</span><span class="tok-p">(</span><span class="tok-n">msg</span><span class="tok-o">=</span><span class="tok-kp">nil</span><span class="tok-p">)</span>
    <span class="tok-vi">@msg</span> <span class="tok-o">=</span> <span class="tok-n">msg</span>
  <span class="tok-k">end</span>

  <span class="tok-k">def</span> <span class="tok-nf">say</span>
    <span class="tok-vi">@msg</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-nb">puts</span> <span class="tok-no">Hello</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hello, world!&quot;</span><span class="tok-p">)</span><span class="tok-o">.</span><span class="tok-n">say</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To make your instance variables accessible from outside, you define them as attributes.
Attributes can be either read-only, write-only or both.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">Hello</span>
  <span class="tok-kp">attr_reader</span> <span class="tok-ss">:one</span>       <span class="tok-c1"># allows reading by using the .one method</span>
  <span class="tok-kp">attr_writer</span> <span class="tok-ss">:two</span>       <span class="tok-c1"># allows writing by using the .two = &quot;xy&quot; method</span>
  <span class="tok-kp">attr_accessor</span> <span class="tok-ss">:three</span>   <span class="tok-c1"># allows both, reading and writing</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inheritance">17. Inheritance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ruby allows object inheritance. All methods including constructor are inherited. Methods
can be overridden by children. <code>super</code> is then used to call the original method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nf">a</span>
    <span class="tok-s2">&quot;hello&quot;</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-nb">puts</span> <span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">a</span> <span class="tok-c1"># =&gt; hello</span>

<span class="tok-k">class</span> <span class="tok-nc">B</span> <span class="tok-o">&lt;</span> <span class="tok-n">A</span>
<span class="tok-k">end</span>

<span class="tok-nb">puts</span> <span class="tok-n">B</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">a</span> <span class="tok-c1"># =&gt; hello</span>

<span class="tok-k">class</span> <span class="tok-nc">C</span> <span class="tok-o">&lt;</span> <span class="tok-n">A</span>
  <span class="tok-k">def</span> <span class="tok-nf">a</span>
    <span class="tok-k">super</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; world&quot;</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-nb">puts</span> <span class="tok-n">C</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">a</span> <span class="tok-c1"># =&gt; hello world</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_class_methods_and_attributes">18. Class methods and attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As known from other language, except in Ruby class variables are not used because of
some pitfalls in their inheritance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nc">self</span><span class="tok-o">.</span><span class="tok-nf">a</span>
    <span class="tok-s2">&quot;hello&quot;</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-nb">puts</span> <span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">a</span> <span class="tok-c1"># =&gt; hello</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monkey_patching">19. Monkey patching</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ruby allows you to <code>open</code> already defined classes and change their definition including
replacement of methods. However <code>with great power comes great responsibility</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-s2">&quot;hello&quot;</span><span class="tok-o">.</span><span class="tok-n">upcase</span> <span class="tok-c1"># =&gt; HELLO</span>

<span class="tok-k">class</span> <span class="tok-nc">String</span>
  <span class="tok-k">def</span> <span class="tok-nf">upcase</span>
    <span class="tok-s2">&quot;*&quot;</span> <span class="tok-o">*</span> <span class="tok-nb">self</span><span class="tok-o">.</span><span class="tok-n">size</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-s2">&quot;hello&quot;</span><span class="tok-o">.</span><span class="tok-n">upcase</span> <span class="tok-c1"># =&gt; *****</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modules">20. Modules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Modules are a way to organize your classes in a similar fashion to namespaces. Classes
can be included into modules or into other classes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">class</span> <span class="tok-nc">B</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-k">module</span> <span class="tok-nn">Some</span>
  <span class="tok-k">class</span> <span class="tok-nc">Thing</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Module are however used as well as mixins. When module is included into class all
methods defined for that module are available in the class as instance methods.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">module</span> <span class="tok-nn">Helper</span>
  <span class="tok-k">def</span> <span class="tok-nf">something</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-kp">include</span> <span class="tok-no">Helper</span>
<span class="tok-k">end</span>

<span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">something</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>and when used with <code>extend</code> the mehtods are included as class methods</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">module</span> <span class="tok-nn">Helper</span>
  <span class="tok-k">def</span> <span class="tok-nf">something</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-kp">extend</span> <span class="tok-no">Helper</span>
<span class="tok-k">end</span>

<span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">something</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ruby has only single inheritance, mixins allow to get around this and provide a
way to get some kind of multiple inheritance.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_method_access">21. Method access</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default methods are <code>public</code>, explicitly methods can be made <code>protected</code> or <code>private</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nf">public_method</span>
  <span class="tok-k">end</span>

  <span class="tok-kp">protected</span>

  <span class="tok-k">def</span> <span class="tok-nf">protected_method</span>
  <span class="tok-k">end</span>

  <span class="tok-kp">private</span>

  <span class="tok-k">def</span> <span class="tok-nf">private_method</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>send</code> method allows bypassing the privacy of a method. By itself it allows
dynamically calling method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nf">public_method</span>
  <span class="tok-k">end</span>

  <span class="tok-kp">private</span>

  <span class="tok-k">def</span> <span class="tok-nf">private_method</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">send</span><span class="tok-p">(</span><span class="tok-ss">:private_method</span><span class="tok-p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_duck_typing">22. Duck typing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ruby encourages to react based on behaviour rather then on identity.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">Hunter</span>
  <span class="tok-k">def</span> <span class="tok-nf">shoot</span><span class="tok-p">(</span><span class="tok-n">animal</span><span class="tok-p">)</span>
    <span class="tok-n">bang!</span> <span class="tok-k">if</span> <span class="tok-n">animal</span><span class="tok-o">.</span><span class="tok-n">class</span> <span class="tok-o">==</span> <span class="tok-no">Duck</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>in this case the code check if it&#8217;s a duck and shoots it, however</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">Hunter</span>
  <span class="tok-k">def</span> <span class="tok-nf">shoot</span><span class="tok-p">(</span><span class="tok-n">animal</span><span class="tok-p">)</span>
    <span class="tok-n">animal</span><span class="tok-o">.</span><span class="tok-n">respond_to?</span><span class="tok-p">(</span><span class="tok-ss">:quack</span><span class="tok-p">)</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">bang!</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>in this case we care if the animal qucks and the it&#8217;s shot.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_method_missing">23. Method_missing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Every object can define special <code>methhod_missing</code> method that is called whenever
there is a call to undefined method on that object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nf">method_missing</span><span class="tok-p">(</span><span class="tok-nb">name</span><span class="tok-p">,</span> <span class="tok-o">*</span><span class="tok-n">args</span><span class="tok-p">,</span> <span class="tok-o">&amp;</span><span class="tok-n">block</span><span class="tok-p">)</span>
    <span class="tok-nb">puts</span> <span class="tok-s2">&quot;method </span><span class="tok-si">#{</span><span class="tok-nb">name</span><span class="tok-si">}</span><span class="tok-s2"> called with args </span><span class="tok-si">#{</span><span class="tok-n">args</span><span class="tok-o">.</span><span class="tok-n">inspect</span><span class="tok-si">}</span><span class="tok-s2">&quot;</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">something</span><span class="tok-p">(</span><span class="tok-s2">&quot;a&quot;</span><span class="tok-p">)</span> <span class="tok-c1"># =&gt; method something called with args [&quot;a&quot;]</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_metaprogramming">24. Metaprogramming</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Metaprogramming allows you to dynamically work with your program through Ruby code.
Most of the times people use this technique for building DSL (domain specific languages)
in Ruby.</p>
</div>
<div class="paragraph">
<p>One of the most important aspects of metaprogramming is to understand what an eigenclass
(singleton class) is.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s start with something special. In Ruby it&#8217;s possible to define per object methods.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">string</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;hello&quot;</span>

<span class="tok-k">def</span> <span class="tok-nc">string</span><span class="tok-o">.</span><span class="tok-nf">star</span>
  <span class="tok-s2">&quot;*&quot;</span> <span class="tok-o">*</span> <span class="tok-nb">self</span><span class="tok-o">.</span><span class="tok-n">size</span>
<span class="tok-k">end</span>

<span class="tok-n">string</span><span class="tok-o">.</span><span class="tok-n">star</span> <span class="tok-c1"># =&gt; *****</span>

<span class="tok-s2">&quot;world&quot;</span><span class="tok-o">.</span><span class="tok-n">star</span> <span class="tok-c1"># =&gt; NoMethodError: undefined method `star&#39; for &quot;world&quot;:String</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>OK, now the question is, where is the method stored? It can not be on the String class
as it&#8217;s available only to the specific instance. And instances do not store methods,
only classes do. And the answer is our eigenclass. The closes method to any object is
not it&#8217;s class but it&#8217;s eigenclass. So, whenever you define per-object behaviour the
method is stored in it&#8217;s eigenclass.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/municz/study-materials/wiki/Lecture-02">Other material</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exceptions">25. Exceptions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Exceptions represnt a special state in the execution in a program. When an exception
is raised, it will bubling thorugh the stack until is caught.</p>
</div>
<div class="paragraph">
<p>Exceptions are raised using the <code>raise</code> keyword</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">raise</span> <span class="tok-no">Exception</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-s2">&quot;Hello&quot;</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>On the other hand when an exception needs to be caught, code block is extended with
<code>rescue</code> statement that is called when an exception is caught and optionally <code>ensure</code>
that is called after both exceptional and non-exceptional state.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">begin</span>
  <span class="tok-k">raise</span> <span class="tok-no">Exception</span><span class="tok-o">.</span><span class="tok-n">new</span>
<span class="tok-k">rescue</span> <span class="tok-o">=&gt;</span> <span class="tok-n">e</span>
  <span class="tok-nb">puts</span> <span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-n">message</span>
<span class="tok-k">ensure</span>
  <span class="tok-nb">puts</span> <span class="tok-s2">&quot;always&quot;</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
</div>
</div>
<h1 id="_advanced_ruby_meta_programming" class="sect0">Advanced Ruby &amp; meta-programming</h1>
<div class="sect1">
<h2 id="_return_statements">26. Return statements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Ruby every code is executable - it is an expression. By definition an expression should have
some return value - the result of it&#8217;s execution. Let&#8217;s take a look at this example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>What is the result of such an expression? You might say "we defined class A". But it is not. The
fact we defined a class is only an effect of the expression but not the result, result is a value
returned from the expression itself.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">var</span> <span class="tok-o">=</span> <span class="tok-kp">nil</span>
<span class="tok-n">var</span><span class="tok-o">.</span><span class="tok-n">inspect</span> <span class="tok-c1"># =&gt; nil</span>

<span class="tok-n">var</span> <span class="tok-o">=</span> <span class="tok-k">class</span> <span class="tok-nc">A</span>
<span class="tok-k">end</span>

<span class="tok-n">var</span><span class="tok-o">.</span><span class="tok-n">inspect</span> <span class="tok-c1"># =&gt; nil</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The value has not changed &#8230;&#8203;. there is no resulting value. Wrong again! The resulting value was
simply nil, the same value as in the variable, but it was returned.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">var</span> <span class="tok-o">=</span> <span class="tok-kp">nil</span>
<span class="tok-n">var</span><span class="tok-o">.</span><span class="tok-n">inspect</span> <span class="tok-c1"># =&gt; nil</span>

<span class="tok-n">var</span> <span class="tok-o">=</span> <span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-nb">self</span>
<span class="tok-k">end</span>

<span class="tok-n">var</span><span class="tok-o">.</span><span class="tok-n">inspect</span> <span class="tok-c1"># =&gt; A</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example we get a return value. As we can see, it is a class A. How is that possible?
Because the last line of a method is return value. Do you remember? Basically we can generalize to</p>
</div>
<div class="listingblock">
<div class="content">
<pre>last line of an expression is it's return value.</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_context">27. Context</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As said before, everything in executed in some context. This context is know as current object and
is always represented by self.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-nb">self</span><span class="tok-o">.</span><span class="tok-n">class</span> <span class="tok-c1"># =&gt; Object</span>

<span class="tok-k">class</span> <span class="tok-nc">B</span>
  <span class="tok-nb">self</span>
<span class="tok-k">end</span>
<span class="tok-c1"># =&gt; Class</span>

<span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nf">call</span>
    <span class="tok-nb">self</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">call</span> <span class="tok-c1"># =&gt; #&lt;A:some number&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_class">28. Class</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_open_classes">28.1. Open classes</h3>
<div class="paragraph">
<p>Unlike most languages, Ruby classes are open for modifications. This way programmer can modify behavior
of classes defined by frameworks or Ruby itself. This technique is called <code>Monkey patching</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">Clazz</span>
  <span class="tok-k">def</span> <span class="tok-nf">call</span>
    <span class="tok-s2">&quot;A&quot;</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-k">class</span> <span class="tok-nc">Clazz</span>
  <span class="tok-k">def</span> <span class="tok-nf">call</span>
    <span class="tok-s2">&quot;B&quot;</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-no">Clazz</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">call</span> <span class="tok-c1"># =&gt; &quot;B&quot;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_what_is_a_class">28.2. What is a class?</h3>
<div class="paragraph">
<p>People unfamiliar with Ruby might ask, why is the precedent example valid and the answer is simple:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>classes are instances of class Class</pre>
</div>
</div>
<div class="paragraph">
<p>everything in Ruby is an object &#8230;&#8203; even a class. Don&#8217;t you believe me? Try this example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nc">self</span><span class="tok-o">.</span><span class="tok-nf">call</span>
    <span class="tok-s2">&quot;called&quot;</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-k">class</span> <span class="tok-nc">B</span>
<span class="tok-k">end</span>

<span class="tok-k">def</span> <span class="tok-nc">B</span><span class="tok-o">.</span><span class="tok-nf">call</span>
  <span class="tok-s2">&quot;called&quot;</span>
<span class="tok-k">end</span>

<span class="tok-n">C</span> <span class="tok-o">=</span> <span class="tok-no">Class</span><span class="tok-o">.</span><span class="tok-n">new</span>

<span class="tok-k">class</span> <span class="tok-nc">C</span>
  <span class="tok-k">def</span> <span class="tok-nc">self</span><span class="tok-o">.</span><span class="tok-nf">call</span>
    <span class="tok-s2">&quot;called&quot;</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-n">D</span> <span class="tok-o">=</span> <span class="tok-no">Class</span><span class="tok-o">.</span><span class="tok-n">new</span>

<span class="tok-k">def</span> <span class="tok-nc">D</span><span class="tok-o">.</span><span class="tok-nf">call</span>
  <span class="tok-s2">&quot;called&quot;</span>
<span class="tok-k">end</span>

<span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">call</span> <span class="tok-c1"># =&gt; &quot;called&quot;</span>
<span class="tok-n">B</span><span class="tok-o">.</span><span class="tok-n">call</span> <span class="tok-c1"># =&gt; &quot;called&quot;</span>
<span class="tok-n">C</span><span class="tok-o">.</span><span class="tok-n">call</span> <span class="tok-c1"># =&gt; &quot;called&quot;</span>
<span class="tok-n">D</span><span class="tok-o">.</span><span class="tok-n">call</span> <span class="tok-c1"># =&gt; &quot;called&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example we defined 4 classes, with class method call that return string "called" all
those 4 techniques are equivalent and you can mix them freely.</p>
</div>
</div>
<div class="sect2">
<h3 id="_inheritance_2">28.3. Inheritance</h3>
<div class="paragraph">
<p>One class can inherit from another. Ruby has only single-class inheritance - you can not inherit from multiple classes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
 <span class="tok-k">def</span> <span class="tok-nf">call</span>
   <span class="tok-s2">&quot;called&quot;</span>
 <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-k">class</span> <span class="tok-nc">B</span> <span class="tok-o">&lt;</span> <span class="tok-n">A</span>
<span class="tok-k">end</span>

<span class="tok-n">C</span> <span class="tok-o">=</span> <span class="tok-no">Class</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">B</span><span class="tok-p">)</span>

<span class="tok-n">B</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">call</span> <span class="tok-c1"># =&gt; &quot;called&quot;</span>
<span class="tok-n">C</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">call</span> <span class="tok-c1"># =&gt; &quot;called&quot;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mixins">28.4. Mixins</h3>
<div class="paragraph">
<p>When a class needs to inherit from multiple classes, Ruby allows as to mix in multiple Modules.
Methods of these modules are then available to the class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">module</span> <span class="tok-nn">Methods</span>
  <span class="tok-k">def</span> <span class="tok-nf">call</span>
    <span class="tok-s2">&quot;called&quot;</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-kp">include</span> <span class="tok-no">Methods</span>
<span class="tok-k">end</span>

<span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">call</span> <span class="tok-c1"># =&gt; &quot;called&quot;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_class_name">28.5. Class name</h3>
<div class="paragraph">
<p>Ruby let us get the name of class by calling method name of the class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-nb">Array</span><span class="tok-o">.</span><span class="tok-n">name</span> <span class="tok-c1"># =&gt; &quot;Array&quot;</span>

<span class="tok-o">[].</span><span class="tok-n">class</span><span class="tok-o">.</span><span class="tok-n">name</span> <span class="tok-c1"># =&gt; &quot;Array&quot;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_methods_2">29. Methods</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As everything else in Ruby even methods are instances of class Method.</p>
</div>
<div class="sect2">
<h3 id="_inspecting_methods">29.1. Inspecting methods</h3>
<div class="paragraph">
<p>Ruby has powerful tools to introspect object. One of the cases is the list of methods of an objects.
The list can be obtained simple by calling method methods.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nf">call</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">methods</span> <span class="tok-c1"># =&gt; array of methods</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>What&#8217;s this good for? Let&#8217;s continue.</p>
</div>
</div>
<div class="sect2">
<h3 id="_extracting_methods">29.2. Extracting methods</h3>
<div class="paragraph">
<p>Sometimes it might be useful to pass around only a method instead of the whole object. Ruby lets you extract a method
for later use.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nf">call</span><span class="tok-p">(</span><span class="tok-n">arg1</span><span class="tok-p">)</span>
    <span class="tok-nb">self</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-n">meth</span> <span class="tok-o">=</span> <span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">method</span><span class="tok-p">(</span><span class="tok-ss">:call</span><span class="tok-p">)</span> <span class="tok-c1"># =&gt; #&lt;Method: A#call&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This example shows, that we "extracted" method call from class A. The method is bound to the instance of class A -
the method will be evaluated in the context of the object. The method can be executed by calling call method with
appropriate arguments.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">meth</span><span class="tok-o">.</span><span class="tok-n">call</span><span class="tok-p">(</span><span class="tok-s2">&quot;some string&quot;</span><span class="tok-p">)</span> <span class="tok-c1"># =&gt; #&lt;A:some_number&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>From the example is obvious, that the method is executed in the context of the object.</p>
</div>
</div>
<div class="sect2">
<h3 id="_checking_method_existence">29.3. Checking method existence</h3>
<div class="paragraph">
<p>Because Ruby is very dynamic language, we can not be always sure what type of argument we receive. Usually the
programmer does not care what class the argument is, but whether the argument response to some method. This is
called Duck typing technique - we do not care what the object is, we only care whether it behaves as we expect.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nf">call</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">new</span>

<span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-n">respond_to?</span><span class="tok-p">(</span><span class="tok-ss">:call</span><span class="tok-p">)</span> <span class="tok-c1"># =&gt; true</span>
<span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-n">respond_to?</span><span class="tok-p">(</span><span class="tok-ss">:wtf</span><span class="tok-p">)</span>  <span class="tok-c1"># =&gt; false</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dynamic_method_calling">29.4. Dynamic method calling</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nf">call</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">call</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This example shows how to call a method, but there is one big "but". We have to know the name of the methods
beforehand &#8230;&#8203; in the time we write the code. What if we do not the method name and we need to call it. Do not be
surprised, this is very common use-case in Ruby. The two call to methods call are identical.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nf">call</span><span class="tok-p">(</span><span class="tok-n">arg1</span><span class="tok-p">)</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">new</span>
<span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-n">call</span><span class="tok-p">(</span><span class="tok-s2">&quot;some string&quot;</span><span class="tok-p">)</span>
<span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-n">send</span><span class="tok-p">(</span><span class="tok-ss">:call</span><span class="tok-p">,</span> <span class="tok-s2">&quot;some string&quot;</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Well, not so identical. When you use the send method on an object, you effectively bypass the access modifiers.
This way a developer is allowed to call event protected or private methods.</p>
</div>
</div>
<div class="sect2">
<h3 id="_defining_methods_programmatically">29.5. Defining methods programmatically</h3>
<div class="paragraph">
<p>The way to define methods shown before is not the only one. We can also define in a more programmatically way.
It makes sense. We can inspect methods of an object, we can extract methods of an object and also call methods of
an object in a dynamic way.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Class.define_method is private</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
<span class="tok-k">end</span>

<span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">new</span>

<span class="tok-n">logic</span> <span class="tok-o">=</span> <span class="tok-no">Proc</span><span class="tok-o">.</span><span class="tok-n">new</span> <span class="tok-k">do</span>
  <span class="tok-s2">&quot;data&quot;</span>
<span class="tok-k">end</span>

<span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">send</span><span class="tok-p">(</span><span class="tok-ss">:define_method</span><span class="tok-p">,</span> <span class="tok-ss">:some_method_name</span><span class="tok-p">,</span> <span class="tok-n">logic</span><span class="tok-p">)</span>

<span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-n">some_method_name</span> <span class="tok-c1"># =&gt; &quot;data&quot;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_objects_2">30. Objects</h2>
<div class="sectionbody">
<div class="paragraph">
<p>What is an object? Let&#8217;s simplify it &#8230;&#8203; and show you as a contrast to classes</p>
</div>
<div class="listingblock">
<div class="content">
<pre>objects define state x classes define behavior</pre>
</div>
</div>
<div class="paragraph">
<p>Object are complements to classes. We define some behavior as a class, then creating an object of the class that
holds some state. Every object has to be of some class.</p>
</div>
<div class="sect2">
<h3 id="_creating_new_object">30.1. Creating new object</h3>
<div class="paragraph">
<p>To create an object of some class it is used the method new of respective class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">Dog</span>
<span class="tok-k">end</span>

<span class="tok-n">dog</span> <span class="tok-o">=</span> <span class="tok-no">Dog</span><span class="tok-o">.</span><span class="tok-n">new</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_defining_methods">30.2. Defining methods</h3>
<div class="paragraph">
<p>Previously we defined many methods in simple and fancy styles. But let&#8217;s get back to the core and try to define a
method</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nf">call</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>here we use def keyword to define method. Where will def define the method? The answer is simple and complex</p>
</div>
<div class="listingblock">
<div class="content">
<pre>def defines method into the nearest class</pre>
</div>
</div>
<div class="paragraph">
<p>So in the previous example the nearest class is A. That is obvious from next example when we inspect the self inside
the class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">var</span> <span class="tok-o">=</span> <span class="tok-k">class</span> <span class="tok-nc">A</span><span class="tok-p">;</span> <span class="tok-nb">self</span><span class="tok-p">;</span> <span class="tok-k">end</span>

<span class="tok-n">var</span><span class="tok-o">.</span><span class="tok-n">class</span>  <span class="tok-c1"># =&gt; Class</span>
<span class="tok-n">var</span><span class="tok-o">.</span><span class="tok-n">name</span>   <span class="tok-c1"># =&gt; &quot;A&quot;</span>

<span class="tok-n">A</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-o">.</span><span class="tok-n">call</span> <span class="tok-c1"># =&gt; &quot;string&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now let&#8217;s try to define a class method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nc">self</span><span class="tok-o">.</span><span class="tok-nf">call</span>
    <span class="tok-s2">&quot;string&quot;</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Where will Ruby define the method now?? It is a bit more complicated. To understand this, we have to explain something
else first.</p>
</div>
</div>
<div class="sect2">
<h3 id="_eigenclass">30.3. Eigenclass</h3>
<div class="paragraph">
<p>To understand how Ruby works, we have to understand what <code>eigenclasses</code> are. Let&#8217;s start with simple definition</p>
</div>
<div class="listingblock">
<div class="content">
<pre>every object in Ruby has it's own eigenclass =&gt; an instance of Class (eigen means "it's own" in German)</pre>
</div>
</div>
<div class="paragraph">
<p>Why is this important? Because, however the <code>eigenclass</code> is basically invisible to Ruby, it takes an important
part in lookup paths.</p>
</div>
<div class="paragraph">
<p>When Ruby looks up a method a program is calling, it follows a basic chain (we will talk about it a bit later).
Important is, that before the class the object is linked to, there is the object&#8217;s eigenclass. Now it is important
that the closest class to an object is not it&#8217;s class but it&#8217;s eigenclass.</p>
</div>
<div class="paragraph">
<p>So, back to the example we were talking about</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nc">self</span><span class="tok-o">.</span><span class="tok-nf">call</span>
    <span class="tok-s2">&quot;string&quot;</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>to see it more clearly we can rewrite this example identically as</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
<span class="tok-k">end</span>

<span class="tok-k">def</span> <span class="tok-nc">A</span><span class="tok-o">.</span><span class="tok-nf">call</span>
  <span class="tok-s2">&quot;string&quot;</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>these two expressions are identical. To understand why it is important to understand this</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
<span class="tok-k">end</span>

<span class="tok-n">scope</span> <span class="tok-o">=</span> <span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-nb">self</span>
<span class="tok-k">end</span>

<span class="tok-n">A</span> <span class="tok-o">==</span> <span class="tok-n">scope</span> <span class="tok-c1"># =&gt; true</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>but back to the original question &#8230;&#8203; where are we trying to define the method? In the context of the instance of the
class A. The important part is the instance of &#8230;&#8203; what is the closest class to instance (object)? As stated above
it&#8217;s eigenclasses. From this point you should see that</p>
</div>
<div class="listingblock">
<div class="content">
<pre>there are no class methods in Ruby</pre>
</div>
</div>
<div class="paragraph">
<p>What could be called a class method is only an instance method defined on the eigenclass associated with object
that represents the class itself.</p>
</div>
<div class="paragraph">
<p>So eigenclass is some stealth object that we can not see? Not really. Ruby has concept to access eigenclasses</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">eigenclass</span> <span class="tok-o">=</span> <span class="tok-k">class</span> <span class="tok-o">&lt;&lt;</span> <span class="tok-n">some_object</span>
  <span class="tok-nb">self</span>
<span class="tok-k">end</span>

<span class="tok-n">eigenclass</span> <span class="tok-o">=</span> <span class="tok-n">some_object</span><span class="tok-o">.</span><span class="tok-n">singleton_class</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>now that we can access eigenclasses, let&#8217;s see how we could define "class methods" (instance methods of eigenclass).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-k">class</span> <span class="tok-nc">A</span>
  <span class="tok-k">def</span> <span class="tok-nc">self</span><span class="tok-o">.</span><span class="tok-nf">call</span>
    <span class="tok-s2">&quot;called&quot;</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-k">class</span> <span class="tok-nc">B</span>
  <span class="tok-k">class</span> <span class="tok-o">&lt;&lt;</span> <span class="tok-nb">self</span>
    <span class="tok-k">def</span> <span class="tok-nf">call</span>
      <span class="tok-s2">&quot;called&quot;</span>
    <span class="tok-k">end</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-k">class</span> <span class="tok-nc">C</span>
<span class="tok-k">end</span>

<span class="tok-k">class</span> <span class="tok-o">&lt;&lt;</span> <span class="tok-n">C</span>
  <span class="tok-k">def</span> <span class="tok-nf">call</span>
    <span class="tok-s2">&quot;called&quot;</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-n">D</span> <span class="tok-o">=</span> <span class="tok-no">Class</span><span class="tok-o">.</span><span class="tok-n">new</span>
<span class="tok-k">class</span> <span class="tok-o">&lt;&lt;</span> <span class="tok-n">D</span>
  <span class="tok-k">def</span> <span class="tok-nf">call</span>
    <span class="tok-s2">&quot;called&quot;</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>

<span class="tok-n">E</span> <span class="tok-o">=</span> <span class="tok-no">Class</span><span class="tok-o">.</span><span class="tok-n">new</span>
<span class="tok-k">def</span> <span class="tok-nc">E</span><span class="tok-o">.</span><span class="tok-nf">call</span>
  <span class="tok-s2">&quot;called&quot;</span>
<span class="tok-k">end</span>

<span class="tok-n">F</span> <span class="tok-o">=</span> <span class="tok-no">Class</span><span class="tok-o">.</span><span class="tok-n">new</span>
<span class="tok-k">class</span> <span class="tok-nc">F</span>
  <span class="tok-k">class</span> <span class="tok-o">&lt;&lt;</span> <span class="tok-nb">self</span>
    <span class="tok-k">def</span> <span class="tok-nf">call</span>
      <span class="tok-s2">&quot;called&quot;</span>
    <span class="tok-k">end</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>all those examples are identical.</p>
</div>
</div>
<div class="sect2">
<h3 id="_method_lookups">30.4. Method lookups</h3>
<div class="paragraph">
<p>Now that you know where and how are methods defined, lets see how methods are looked up. Let&#8217;s see how the class
hierarchy looks for class</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SomeClass -&gt; Class -&gt; Module -&gt; Object -&gt; BasicObject</pre>
</div>
</div>
<div class="paragraph">
<p>and for objects</p>
</div>
<div class="listingblock">
<div class="content">
<pre>object -&gt; SomeClass -&gt; Object -&gt; BasicObject</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="method_lookup.svg" alt="method lookup">
</div>
</div>
<div class="paragraph">
<p>Important thing about eigenclasses is that they are not visible as classes of objects.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="ruby"><span class="tok-n">o1</span> <span class="tok-o">=</span> <span class="tok-no">Object</span><span class="tok-o">.</span><span class="tok-n">new</span>

<span class="tok-k">def</span> <span class="tok-nc">o1</span><span class="tok-o">.</span><span class="tok-nf">meth</span>
  <span class="tok-s2">&quot;string&quot;</span>
<span class="tok-k">end</span>

<span class="tok-n">o1</span><span class="tok-o">.</span><span class="tok-n">meth</span>  <span class="tok-c1"># =&gt; &quot;string&quot;</span>
<span class="tok-n">o1</span><span class="tok-o">.</span><span class="tok-n">class</span> <span class="tok-c1"># =&gt; Object</span>

<span class="tok-n">o2</span> <span class="tok-o">=</span> <span class="tok-no">Object</span><span class="tok-o">.</span><span class="tok-n">new</span>

<span class="tok-n">o2</span><span class="tok-o">.</span><span class="tok-n">meth</span>  <span class="tok-c1"># =&gt; undefined method `meth`</span>
<span class="tok-n">o2</span><span class="tok-o">.</span><span class="tok-n">class</span> <span class="tok-c1"># =&gt; Object</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This example shows that having two instances of same objects. Both can behave differently. Because in the case of o1
the method is stored in the eigenclass, that is not accessible by o2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Eigenclasses are used when a specific behavior of an object is expected</pre>
</div>
</div>
</div>
</div>
</div>
<h1 id="_testing" class="sect0">Testing</h1>
<div class="sect1">
<h2 id="_minitest">31. MiniTest</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_standard_library" class="sect0">Standard library</h1>
<div class="sect1">
<h2 id="_files">32. Files</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_ruby_on_rails" class="sect0">Ruby on Rails</h1>
<div class="sect1">
<h2 id="_introduction">33. Introduction</h2>
<div class="sectionbody">

</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.1<br>
Last updated 2016-10-17 12:38:08 CEST
</div>
</div>
</body>
</html>